
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>loginn</title>
    <link rel="stylesheet" href="/assets/css/pureStyle.css" ></link>
</head>
<body>


<br>
<br>

<div class="cont">
    <div class="form sign-in">
        <form class="form sign-in" th:action="@{/loginn}" method="post" th:object="${userLoginDto}">
            <h2>Welcome</h2>
            <label>
                <span th:if="${#fields.hasErrors('email')}" th:errors="*{email}">Email</span>
                <input th:field="*{email}" type="email" required="required"
                       minlength="3" maxlength="50" id="email" name="email" />
            </label>
            <label>
                <span th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Password</span>
                <input th:field="*{password}" type="password" required="required"
                       minlength="8" maxlength="50" pattern="^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z]).{8,}$"
                       id="password" name="password" />
            </label>
            <p class="forgot-pass">Forgot password?</p>

            <!-- Add hidden returnUrl field -->
            <input type="hidden" name="returnUrl" th:value="${param.returnUrl}" />

            <!-- Fixed submit button -->
            <button type="submit" class="submit">Sign In</button>
        </form>
    </div>
    <div class="sub-cont">
        <div class="img">
            <div class="img__text m--up">

                <h3>Don't have an account? Please Sign up!<h3>
            </div>
            <div class="img__text m--in">

                <h3>If you already has an account, just sign in.<h3>
            </div>
            <div class="img__btn">
                <span class="m--up">Sign Up</span>
                <span class="m--in">Sign In</span>
            </div>
        </div>
        <!-- Registration Form Section -->
        <div class="form sign-up">
            <h2>Create your Account</h2>
            <!-- Add error message display -->

            <form th:action="@{/register}" method="post" th:object="${userRegisterDto}">
                <label>
                    <span th:if="${#fields.hasErrors('name')}" th:errors="*{name}">Name </span>
                    <input th:field="*{name}" type="text" required
                           placeholder="Name" id="name" />
                </label>
                <label>
                    <span th:if="${#fields.hasErrors('surname')}" th:errors="*{surname}">Surname </span>
                    <input th:field="*{surname}" type="text" required
                           placeholder="Surname" id="surname" />
                </label>
                <label>
                    <span th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}">Phone </span>
                    <input th:field="*{phone}" type="tel" required
                           placeholder="Phone" id="phone" />
                </label>
                <label>
                    <span th:if="${#fields.hasErrors('email')}" th:errors="*{email}">Email </span>
                    <input th:field="*{email}" type="email" required
                           placeholder="Email" />
                </label>
                <label>
                    <span th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Password </span>
                    <input th:field="*{password}" type="password" required
                           placeholder="Password" />
                </label>
                <label>
                    <span th:if="${#fields.hasErrors('confirmPassword')}" th:errors="*{confirmPassword}">Confirm </span>
                    <!-- Confirm password field matches DTO -->
                    <input th:field="*{confirmPassword}" type="password" required>
                </label>
                <button type="submit" class="submit">Sign Up</button>
            </form>
        </div>
    </div>
</div>

<script>
    document.querySelector('.img__btn').addEventListener('click', function() {
        document.querySelector('.cont').classList.toggle('s--signup');
    });
</script>
</body>
</html>
